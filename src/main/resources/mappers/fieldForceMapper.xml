<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="FieldForceMapper">


    <resultMap id="fieldForceResultMap" type="com.squer.promobee.service.repository.domain.FF">
        <id property="id" column="id_rct"/>
        <result property="name" column="name_rct"/>
        <result property="ciName" column="ci_name_rct"/>
        <result property="code" column="code_rct"/>
        <result property="address" column="address_rct"/>
        <result property="city" column="city_rct"/>
        <result property="state" column="state_rct"/>
        <result property="zip" column="zip_rct"/>
        <result property="email" column="email_rct"/>
        <result property="mobile" column="mobile_rct"/>
        <result property="headQuarter" column="head_quarter_rct"/>
        <result property="zone" column="zone_rct"/>
        <result property="joiningDate" column="joining_date_rct"/>
        <result property="amName" column="am_name_rct"/>
        <result property="amCode" column="am_code_rct" />
        <result property="rmName" column="rm_name_rct" />
        <result property="rmCode" column="rm_code_rct" />
        <result property="nsmName" column="nsm_name_rct" />
        <result property="nsmCode" column="nsm_code_rct" />
        <result property="cfa" column="cfa_rct" />
        <result property="statusChangeDate" column="status_change_date_rct" />
        <result property="loginId" column="LoginId" />
        <result property="gender" column="Gender" />
        <result property="workId" column="WorkId" />
        <result property="createdAt" column="created_on_rct"/>
        <result property="createdBy" column="created_by_rct"/>
        <result property="updatedAt" column="updated_on_rct"/>
        <result property="updatedBy" column="updated_by_rct"/>
        <result property="emailAM" column="email_am"/>
        <result property="emailRBM" column="email_rm"/>

        <!--        <result property="team.id" column="id_tem_rct"/>-->
        <!--        <result property="team.name" column="name_tem"/>-->
        <association property="designation" javaType="com.squer.promobee.security.domain.NamedSquerEntity">
            <id property="id" column="id_ulv"/>
            <result property="name" column="name_ulv"/>
        </association>
        <association property="team" javaType="com.squer.promobee.security.domain.NamedSquerEntity">
            <id property="id" column="id_tem"/>
            <result property="name" column="name_tem"/>
        </association>

        <association property="recipientStatus" javaType="com.squer.promobee.security.domain.NamedSquerEntity">
            <id property="id" column="id_slv"/>
            <result property="name" column="name_slv"/>
        </association>

        <association property="businessUnit" javaType="com.squer.promobee.security.domain.NamedSquerEntity">
            <id property="id" column="id_bum"/>
            <result property="name" column="name_bum"/>
        </association>

    </resultMap>



    <select id="getFieldForceByStatus" resultMap="fieldForceResultMap">
        SELECT RCT.*,ULV.ID_ULV,ULV.NAME_ULV,SLV.ID_SLV,SLV.NAME_SLV,TEM.ID_TEM,TEM.NAME_TEM,BUM.ID_BUM,BUM.NAME_BUM FROM RECIPIENT_MASTER_RCT RCT
                                                                                                                              JOIN USER_LOV_ULV ULV ON ULV.ID_ULV = RCT.ID_DESG_ULV_RCT
                                                                                                                              JOIN SYSTEM_LOV_SLV SLV ON SLV.ID_SLV =  RCT.ID_STATUS_SLV_RCT
                                                                                                                              JOIN TEAM_MASTER_TEM TEM ON TEM.ID_TEM =  RCT.ID_TEM_RCT
                                                                                                                              JOIN BU_MASTER_BUM BUM ON BUM.ID_BUM = RCT.ID_BUM_RCT
        WHERE RCT.ID_STATUS_SLV_RCT =  #{recipientStatus}

    </select>


    <select id="getFieldForceByCode" resultMap="fieldForceResultMap">
        SELECT RCT.*,ULV.ID_ULV,ULV.NAME_ULV,SLV.ID_SLV,SLV.NAME_SLV,TEM.ID_TEM,TEM.NAME_TEM,BUM.ID_BUM,BUM.NAME_BUM FROM RECIPIENT_MASTER_RCT RCT
                                                                                                                              JOIN USER_LOV_ULV ULV ON ULV.ID_ULV = RCT.ID_DESG_ULV_RCT
                                                                                                                              JOIN SYSTEM_LOV_SLV SLV ON SLV.ID_SLV =  RCT.ID_STATUS_SLV_RCT
                                                                                                                              JOIN TEAM_MASTER_TEM TEM ON TEM.ID_TEM =  RCT.ID_TEM_RCT
                                                                                                                              JOIN BU_MASTER_BUM BUM ON BUM.ID_BUM = RCT.ID_BUM_RCT
        WHERE RCT.CODE_RCT = #{code}

    </select>


    <select id="getFieldForceByName" resultMap="fieldForceResultMap">
        SELECT RCT.*,ULV.ID_ULV,ULV.NAME_ULV,SLV.ID_SLV,SLV.NAME_SLV,TEM.ID_TEM,TEM.NAME_TEM,BUM.ID_BUM,BUM.NAME_BUM FROM RECIPIENT_MASTER_RCT RCT
                                                                                                                              JOIN USER_LOV_ULV ULV ON ULV.ID_ULV = RCT.ID_DESG_ULV_RCT
                                                                                                                              JOIN SYSTEM_LOV_SLV SLV ON SLV.ID_SLV =  RCT.ID_STATUS_SLV_RCT
                                                                                                                              JOIN TEAM_MASTER_TEM TEM ON TEM.ID_TEM =  RCT.ID_TEM_RCT
                                                                                                                              JOIN BU_MASTER_BUM BUM ON BUM.ID_BUM = RCT.ID_BUM_RCT
        WHERE RCT.NAME_RCT = #{name}

    </select>



</mapper>